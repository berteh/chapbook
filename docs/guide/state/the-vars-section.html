
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>The Vars Section Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="displaying-variables.html" />
    
    
    <link rel="prev" href="what-is-state.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../acknowledgments.html">
            
                <a href="../acknowledgments.html">
            
                    
                    Acknowledgments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../text-and-links/">
            
                <a href="../text-and-links/">
            
                    
                    Text and Links
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../text-and-links/text-formatting.html">
            
                <a href="../text-and-links/text-formatting.html">
            
                    
                    Text Formatting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../text-and-links/simple-links.html">
            
                <a href="../text-and-links/simple-links.html">
            
                    
                    Simple Links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../text-and-links/forks.html">
            
                <a href="../text-and-links/forks.html">
            
                    
                    Forks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../text-and-links/ways-to-link.html">
            
                <a href="../text-and-links/ways-to-link.html">
            
                    
                    Ways to Link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../text-and-links/backstage.html">
            
                <a href="../text-and-links/backstage.html">
            
                    
                    Introducing Backstage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../modifiers-and-inserts/">
            
                <a href="../modifiers-and-inserts/">
            
                    
                    Modifiers and Inserts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../modifiers-and-inserts/modifiers-and-text-alignment.html">
            
                <a href="../modifiers-and-inserts/modifiers-and-text-alignment.html">
            
                    
                    Modifiers and Text Alignment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../modifiers-and-inserts/delayed-text.html">
            
                <a href="../modifiers-and-inserts/delayed-text.html">
            
                    
                    Delayed Text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../modifiers-and-inserts/notes.html">
            
                <a href="../modifiers-and-inserts/notes.html">
            
                    
                    Notes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../modifiers-and-inserts/link-inserts.html">
            
                <a href="../modifiers-and-inserts/link-inserts.html">
            
                    
                    Link Inserts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../modifiers-and-inserts/reveal-links.html">
            
                <a href="../modifiers-and-inserts/reveal-links.html">
            
                    
                    Reveal Links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../modifiers-and-inserts/embedding-passages.html">
            
                <a href="../modifiers-and-inserts/embedding-passages.html">
            
                    
                    Embedding Passages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Adding State to Stories
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="what-is-state.html">
            
                <a href="what-is-state.html">
            
                    
                    What is State?
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="the-vars-section.html">
            
                <a href="the-vars-section.html">
            
                    
                    The Vars Section
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="displaying-variables.html">
            
                <a href="displaying-variables.html">
            
                    
                    Displaying Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="conditional-display.html">
            
                <a href="conditional-display.html">
            
                    
                    Conditional Display
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="conditions-and-variables.html">
            
                <a href="conditions-and-variables.html">
            
                    
                    Conditions and Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="continuity.html">
            
                <a href="continuity.html">
            
                    
                    Continuity Between Sessions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="backstage.html">
            
                <a href="backstage.html">
            
                    
                    State Backstage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="objects-and-lookups.html">
            
                <a href="objects-and-lookups.html">
            
                    
                    Objects and Lookup Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="randomness.html">
            
                <a href="randomness.html">
            
                    
                    Randomness
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../multimedia/">
            
                <a href="../multimedia/">
            
                    
                    Multimedia
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../multimedia/publishing-models.html">
            
                <a href="../multimedia/publishing-models.html">
            
                    
                    Publishing Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../multimedia/images.html">
            
                <a href="../multimedia/images.html">
            
                    
                    Images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../multimedia/audio.html">
            
                <a href="../multimedia/audio.html">
            
                    
                    Audio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../multimedia/video.html">
            
                <a href="../multimedia/video.html">
            
                    
                    Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../customization/">
            
                <a href="../customization/">
            
                    
                    Customization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../customization/header-and-footer.html">
            
                <a href="../customization/header-and-footer.html">
            
                    
                    The Header and Footer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../customization/fonts-and-colors.html">
            
                <a href="../customization/fonts-and-colors.html">
            
                    
                    Fonts and Colors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../customization/external-web-fonts.html">
            
                <a href="../customization/external-web-fonts.html">
            
                    
                    External Web Fonts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../customization/page-style.html">
            
                <a href="../customization/page-style.html">
            
                    
                    Page Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../customization/fork-style.html">
            
                <a href="../customization/fork-style.html">
            
                    
                    Fork Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../customization/design-considerations.html">
            
                <a href="../customization/design-considerations.html">
            
                    
                    Design Considerations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../player-input/">
            
                <a href="../player-input/">
            
                    
                    Player Input
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../player-input/text-input.html">
            
                <a href="../player-input/text-input.html">
            
                    
                    Text Input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../player-input/dropdown-menus-cycling-links.html">
            
                <a href="../player-input/dropdown-menus-cycling-links.html">
            
                    
                    Dropdown Menus and Cycling Links
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    Advanced Topics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../advanced/using-javascript-in-passages.html">
            
                <a href="../advanced/using-javascript-in-passages.html">
            
                    
                    Using JavaScript in Passages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../advanced/using-css-in-passages.html">
            
                <a href="../advanced/using-css-in-passages.html">
            
                    
                    Using CSS in Passages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../advanced/adding-custom-inserts.html">
            
                <a href="../advanced/adding-custom-inserts.html">
            
                    
                    Adding Custom Inserts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../advanced/adding-custom-modifiers.html">
            
                <a href="../advanced/adding-custom-modifiers.html">
            
                    
                    Adding Custom Modifiers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../references/">
            
                <a href="../references/">
            
                    
                    References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../references/inserts.html">
            
                <a href="../references/inserts.html">
            
                    
                    Inserts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../references/modifiers.html">
            
                <a href="../references/modifiers.html">
            
                    
                    Modifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../references/version-history.html">
            
                <a href="../references/version-history.html">
            
                    
                    Version History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../references/lifecycle.html">
            
                <a href="../references/lifecycle.html">
            
                    
                    The Chapbook Lifecycle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >The Vars Section</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="the-vars-section">The Vars Section</h1>
<p>The primary way that Chapbook allows you to work with state is through <em>vars (short for variables) sections</em>. These sections always come at the beginning of a passage and are separated from normal text by two dashes (<code>--</code>).</p>
<p>To carry forward the example from the previous section, here&apos;s how a desperately stereotypical dungeon crawl&apos;s first passage might<span class="widont">&#xA0;</span>look:</p>
<pre><code>strength: 18
dexterity: 7
constitution: 14
intelligence: 9
wisdom: 8
charisma: 11
--
After a lusty evening in the village tavern, you set off down the trail to
the nearest dungeon. It&apos;s a bright, sunny day, and you&apos;re happy to have a
clear destination in mind.
</code></pre><p>When the player visits this passage, Chapbook will add six variables to the story&apos;s state: <code>strength</code>, <code>dexterity</code>, <code>constitution</code>, and so on, and sets them to the numbers<span class="widont">&#xA0;</span>listed.</p>
<p>Vars sections never display anything to the player; this is so that, for example, you can set a variable named <code>doomedToDieInFiveMinutes</code> and the player will be none the wiser unless you wish<span class="widont">&#xA0;</span>it.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>If a passage is embedded in another using the <code>{embed passage}</code> modifier, its vars section will also take<span class="widont">&#xA0;</span>effect.</p>
</div></div></p>
<p>You may only have one vars section in each passage, but then there&apos;s really only ever need for one. The name of state variables must follow a few rules, too. They must start with a letter (upper or lowercase), underscore (<code>_</code>), or dollar sign (<code>$</code>); after the first character can come any combination of the preceding kinds of characters as well as digits.<sup><a href="#fn_1" id="reffn_1">1</a></sup></p>
<p>Sadly, you can&apos;t use spaces in your variable names. Because of this, a common practice called <em>camel casing</em> (because of the camel-like humps in the resulting word) glues phrases together using capital letters, like the <code>doomedToDieInFiveMinutes</code> example above. Another school of thought, <em>snake casing</em>, prefers to use underscores instead; e.g. <code>doomed_to_die_in_five_minutes</code>. Either&apos;s perfectly fine. Use whichever feels most comfortable to<span class="widont">&#xA0;</span>you.</p>
<p>Another common practice is to put an underscore in front of variable names when the value will only be used in the current passage. This practice is just a hint to yourself; Chapbook does not enforce this usage.<sup><a href="#fn_2" id="reffn_2">2</a></sup></p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>A variable name can contain periods (<code>.</code>), but they carry a special meaning. Until you&apos;ve read <a href="objects-and-lookups.html">Objects and Lookup Values</a>, it&apos;s best to leave them out of variable<span class="widont">&#xA0;</span>names.</p>
</div></div></p>
<p><div class="alert alert-danger hints-alert"><div class="hints-icon"><i class="fa fa-exclamation-circle"></i></div><div class="hints-container"><p>Chapbook and web browsers reserve certain variable names for their own use. If you try to use a variable whose name overlaps them, unpredictable things may happen, so you should avoid them. Chapbook reserves the following<span class="widont">&#xA0;</span>names:</p>
<ul>
<li><code>browser</code></li>
<li><code>engine</code></li>
<li><code>now</code></li>
<li><code>passage</code></li>
<li><code>random</code></li>
<li><code>story</code></li>
</ul>
<p>The browser reserves quite a few (over two hundred at time of writing), but you&apos;re unlikely to want to use most of them, like <code>ondeviceorientation</code>. See <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window#Properties" target="_blank">the exhaustive list</a> for more<span class="widont">&#xA0;</span>details.</p>
</div></div></p>
<p>The only time variable names are shown to a player is if an error occurs in your story while they are playing it, so choose names that are easy to remember and descriptive. There&apos;s no need for a <code>clueF</code> variable when you can have <code>sawFootprintsInVault</code> instead.</p>
<h2 id="variables-have-types">Variables Have Types</h2>
<p>The example at the start of this section assigned numbers to variables, but variables can hold other types of<span class="widont">&#xA0;</span>values.</p>
<p><em>Strings</em> are collections of letters, numbers, spaces, and other symbols. Strings are surrounded by either apostrophes (<code>&apos;</code>) or quotation marks (<code>&quot;</code>) so that&apos;s it clear where they begin and end, in the same way that is used for textual parameter values. You can use either punctuation mark to mark off a string&apos;s beginning and end, but just like Markdown italics and bold, you have to be consistent with each usage. If you need to use a delimiter character inside a string, type a backslash (<code>\</code>) in front of it, e.g. <code>&apos;Don\&apos;t, just don\&apos;t.&apos;</code>.</p>
<p>Strings are great for storing names for things. For example, if you want to allow the player to set the name of the main character at the start of a story, a string would be the best type of variable to use. You can also use strings to store fuzzy kinds of values. You could record the state of a relationship between two characters as <code>&apos;friendly&apos;</code>, <code>&apos;neutral&apos;</code>, <code>&apos;wary&apos;</code>, or <code>&apos;hostile&apos;</code>.</p>
<p><em>Booleans</em> simply record a true or false value. Like numbers, you don&apos;t need to put anything around a boolean to signal what it is; just type <code>true</code> or <code>false</code>. Booleans are good for recording whether something has occurred in a story; for example, whether the main character has found a<span class="widont">&#xA0;</span>clue.</p>
<p>There are other, more complex types of values that will be discussed later, but numbers, strings, and booleans will get you quite far. To review, here&apos;s an example of a passage whose vars section contains all three types of<span class="widont">&#xA0;</span>variables.</p>
<pre><code>dollarsInPocket: 12
openedPortalToAlternateDimension: true
name: &apos;James&apos;
--
You&apos;ve nearly reached the end of your adventure.
</code></pre><h2 id="variables-can-be&#xA0;calculated">Variables Can Be<span class="widont">&#xA0;</span>Calculated</h2>
<p>You don&apos;t have to set variables to plain values&#x2013;meaning, a vars section could look like this when the main character finds a dollar lying on the<span class="widont">&#xA0;</span>ground:</p>
<pre><code>dollarsInPocket: dollarsInPocket + 1
</code></pre><p>This vars section increases the <code>dollarsInPocket</code> variable by 1 using an <em>expression</em>. You can think of an expression as a formula or calculation. It&apos;s anything that can be transformed into a single value via the <em>evaluation</em> process. For example, you can use the basic mathematical operations&#x2013;addition, subtraction, multiplication, and division&#x2013;with numeric variables. You can also use addition to connect two strings together&#x2013;for instance, <code>fullName: first + &apos; &apos; + last</code>&#x2013;but you cannot use any other mathematical operators with<span class="widont">&#xA0;</span>strings.</p>
<p>You can also compare two numbers or strings, yielding a<span class="widont">&#xA0;</span>boolean.</p>
<ul>
<li><p><code>===</code>, &#x201C;equal to&#x201D;<br>True if both sides are the same number or string. Strings have to be exactly the same: <code>&apos;DOE&apos;</code> does not equal <code>&apos;doe&apos;</code>, nor does <code>&apos;doe &apos;</code> (note the trailing space) equal <code>&apos;doe&apos;</code>.</p>
</li>
<li><p><code>!==</code>, &#x201C;not equal to&#x201D;<br>True if both sides aren&apos;t the<span class="widont">&#xA0;</span>same.</p>
</li>
<li><p><code>&gt;</code>, &#x201C;greater than,&#x201D; and <code>&gt;=</code>, &#x201C;greater than or equal to&#x201D;<br>True if the left side is larger than the right side. If you use <code>&gt;=</code>, then this is also true when the two sides are<span class="widont">&#xA0;</span>equal.</p>
</li>
<li><p><code>&lt;</code>, &#x201C;less than,&#x201D; and <code>&lt;=</code>, &#x201C;less than or equal to&#x201D;<br>True if the left side is smaller than the right side. If you use <code>&lt;=</code>, then this is also true when the two sides are<span class="widont">&#xA0;</span>equal.</p>
</li>
</ul>
<p>Generally speaking, one string is considered larger than another if it would come after it in alphabetical order. For example, <code>&apos;b&apos; &gt; &apos;a&apos;</code>. But these comparisons can be confusing and unintuitive. Is <code>&apos;+&apos;</code> greater than <code>&apos;&amp;&apos;</code>? It in fact is, but would you know at a glance? It might surprise you to learn than <code>&apos;A&apos; &lt; &apos;a&apos;</code>.<sup><a href="#fn_3" id="reffn_3">3</a></sup> So it is usually best not to use greater-than or less-than operators with<span class="widont">&#xA0;</span>strings.</p>
<p>Below is an example vars section that demonstrates how these can be<span class="widont">&#xA0;</span>used.</p>
<pre><code>correct: guess === 3
nighttime: hour &gt;= 18
--
The quizmaster leans back in his chair and grins.
</code></pre><p>Boolean variables have their own separate set of<span class="widont">&#xA0;</span>operators.</p>
<ul>
<li><p><code>!</code>, &#x201C;not&#x201D;<br>Changes a true value to false and vice<span class="widont">&#xA0;</span>versa.</p>
</li>
<li><p><code>&amp;&amp;</code>, &#x201C;and&#x201D;<br>True only if both sides are<span class="widont">&#xA0;</span>true.</p>
</li>
<li><p><code>||</code>, &#x201C;or&#x201D;<br>True if one or both sides are<span class="widont">&#xA0;</span>true.</p>
</li>
</ul>
<p><div class="alert alert-danger hints-alert"><div class="hints-icon"><i class="fa fa-exclamation-circle"></i></div><div class="hints-container"><p>You cannot use inserts or modifiers in vars sections. They only work inside the displayed text of your<span class="widont">&#xA0;</span>passage.</p>
</div></div></p>
<h2 id="clarifying-expressions-with&#xA0;parentheses">Clarifying Expressions With<span class="widont">&#xA0;</span>Parentheses</h2>
<p>Often expressions are complex. For example, in a simple role-playing scenario, you might decide a character armed with a hammer does <code>strength * 2 + 4</code> damage. But if <code>strength</code> is 12, does that mean that the expression evaluates to 28 (multiply 12 by 2, then add 4) or 72 (add 2 to 4, then multiply by<span class="widont">&#xA0;</span>12)?</p>
<p>You may remember from algebra class that mathematical operators have rules relating to precedence; specifically, multiplication occurs before addition. But you probably have never been taught what the rules are for boolean logic&#x2013;e.g. what does <code>!true || false</code> evaluate to?<sup><a href="#fn_4" id="reffn_4">4</a></sup>&#x2013;and even if you do know the rules, it can be tricky to correctly apply them in a complex<span class="widont">&#xA0;</span>expression.</p>
<p>In these situations, you can use parentheses to help make an expression easy to follow, or even to override the normal order of operations. <code>(strength * 2) + 4</code> makes it clear how the expression will be evaluated&#x2013;and if indeed you wanted the answer above to be 72, you can specify that by writing <code>strength * (2 + 4)</code>.</p>
<h2 id="evaluation-only-happens&#xA0;once">Evaluation Only Happens<span class="widont">&#xA0;</span>Once</h2>
<p>An important thing to remember about setting a variable to an expression is that the evaluation only happens once, when you set the variable. Imagine this<span class="widont">&#xA0;</span>scenario:</p>
<ol>
<li>In a passage, you set the variable <code>teethChattering</code> to <code>temperature &lt; 0</code>.</li>
<li>In a later passage, the protagonist moves inside and sets <code>temperature: temperature + 20</code>.</li>
</ol>
<p>The variables are now inconsistent: <code>teethChattering</code> is true but <code>temperature</code> is above 0. The best way to avoid this problem is to avoid making a variable completely derived from another. You don&apos;t need a separate variable named <code>teethChattering</code> if all it does is reflect whether <code>temperature</code> is greater than 0. A better use would be setting <code>hasACold: temperature &lt; 0 &amp;&amp; !wearingJacket</code>, to reflect that the protagonist caught a cold by being outside without a jacket. They may subsequently go inside or put on a jacket, but obviously neither change will affect the fact that the protagonist <code>hasACold</code>.</p>
<h2 id="expressions-can-be-used-in&#xA0;inserts">Expressions Can Be Used in<span class="widont">&#xA0;</span>Inserts</h2>
<p>An expression can be used in place of a value in an insert. For example, the passage<span class="widont">&#xA0;</span>below:</p>
<pre><code>target: &apos;another passage&apos;
--
{embed passage: target}
</code></pre><p>Will display the contents of the passage named &apos;another passage&apos;. Remember that this usage differs from placing a variable name in quotation marks, which Chapbook treats as a string. That is, this<span class="widont">&#xA0;</span>passage:</p>
<pre><code>target: &apos;another passage&apos;
--
{embed passage: &apos;target&apos;}
</code></pre><p>Shows the contents of the passage named &apos;target&apos; instead. This can be confusing, of course. The simplest rule to keep in mind is that quotation marks, either single or double, always go around strings. If you don&apos;t see quotation marks around something, it will be<span class="widont">&#xA0;</span>evaluated.</p>
<p>As the heading advertises, inserts can use entire expressions, not just variables, as values. For<span class="widont">&#xA0;</span>instance:</p>
<pre><code>petType: &apos;cat&apos;
activity: &apos;Walk&apos;
--
{embed passage: petType + activity}
</code></pre><p>Will display the contents of the passage<span class="widont">&#xA0;</span>&apos;catWalk&apos;.</p>
<blockquote id="fn_1">
<sup>1</sup>. You can use non-Latin characters in variable names, such as <code>sabidur&#xED;a</code> or <code>&#x43C;&#x443;&#x434;&#x440;&#x43E;&#x441;&#x442;&#x44C;</code>, but bear in mind that older web browsers that do not fully support the Unicode standard&#x2013;in practice, old versions of Internet Explorer that have miniscule usage rates nowadays&#x2013;may be deeply confused by them.<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. The SugarCube story format popularized this practice, and in fact does discard variables whose name starts with an underscore after the player navigates to another passage. <a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. The final authority on ordering characters in a string is the Unicode standard. Characters are compared by their Unicode code points; a higher numeric code point means that a character is greater than another.<a href="#reffn_3" title="Jump back to footnote [3] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_4">
<sup>4</sup>. In case you&apos;re curious, <code>!true || false</code> evaluates to false. The not operator takes precedent over the or.<a href="#reffn_4" title="Jump back to footnote [4] in the text."> &#x21A9;</a>
</blockquote>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="what-is-state.html" class="navigation navigation-prev " aria-label="Previous page: What is State?">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="displaying-variables.html" class="navigation navigation-next " aria-label="Next page: Displaying Variables">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"The Vars Section","level":"1.5.2","depth":2,"next":{"title":"Displaying Variables","level":"1.5.3","depth":2,"path":"state/displaying-variables.md","ref":"state/displaying-variables.md","articles":[]},"previous":{"title":"What is State?","level":"1.5.1","depth":2,"path":"state/what-is-state.md","ref":"state/what-is-state.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["hints","typogr"],"pluginsConfig":{"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"typogr":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"state/the-vars-section.md","mtime":"2019-06-10T22:04:04.441Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-17T22:57:56.468Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

